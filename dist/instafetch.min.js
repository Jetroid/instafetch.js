!function(e,n){if("function"==typeof define&&define.amd)define(["exports","module"],n);else if("undefined"!=typeof exports&&"undefined"!=typeof module)n(exports,module);else{var t={exports:{}};n(t.exports,t),e.fetchJsonp=t.exports}}(this,function(e,n){"use strict";function t(){return"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random())}function o(e){try{delete window[e]}catch(n){window[e]=void 0}}function c(e){var n=document.getElementById(e);document.getElementsByTagName("head")[0].removeChild(n)}function i(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=e,l=n.timeout||s.timeout,r=n.jsonpCallback||s.jsonpCallback,u=void 0;return new Promise(function(e,s){var a=n.jsonpCallbackFunction||t(),f=r+"_"+a;window[a]=function(n){e({ok:!0,json:function(){return Promise.resolve(n)}}),u&&clearTimeout(u),c(f),o(a)},i+=i.indexOf("?")===-1?"?":"&";var d=document.createElement("script");d.setAttribute("src",""+i+r+"="+a),d.id=f,document.getElementsByTagName("head")[0].appendChild(d),u=setTimeout(function(){s(new Error("JSONP request to "+i+" timed out")),o(a),c(f)},l)})}var s={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};n.exports=i}),function(e,n){"function"==typeof define&&define.amd?define([],n(e)):"object"==typeof exports?module.exports=n(e):e.instafetch=n(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var n,t,o,c={},i=!!document.querySelector&&!!e.addEventListener,s="https://api.instagram.com/v1/users/",l={userId:null,accessToken:null,numOfPics:20,caption:!1},r=function(e,n,t){if("[object Object]"===Object.prototype.toString.call(e))for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.call(t,e[o],o,e);else for(var c=0,i=e.length;c<i;c++)n.call(t,e[c],c,e)},u=function(e,n){var t={};return r(e,function(n,o){t[o]=e[o]}),r(n,function(e,o){t[o]=n[o]}),t},a=function(e){if(null!==e.userId&&null!==e.accessToken)if(e.userId===e.accessToken.split(".")[0]){var n=s+e.userId+"/media/recent/?access_token="+e.accessToken+"&count="+e.numOfPics+"&callback=?";fetchJsonp(n).then(function(e){return e.json()}).then(function(e){f(e)}).catch(function(e){console.log(e)})}else console.log("Access Token is invalid for User ID");else console.log("User ID and Access Token are required.")},f=function(e){e.data.forEach(function(e){"image"===e.type?console.log(e):"video"===e.type&&console.log(e)})};return c.destroy=function(){n&&(n=null,t=null,o=null)},c.init=function(e){i&&(c.destroy(),n=u(l,e||{}),a(n))},c});